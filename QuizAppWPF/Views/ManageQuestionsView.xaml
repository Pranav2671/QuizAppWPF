<Window x:Class="QuizAppWPF.Views.ManageQuestionsView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Manage Questions"
        Height="600" Width="800"
        WindowStartupLocation="CenterScreen"
        Background="#F5F6FA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ✅ Title -->
        <TextBlock Grid.Row="0"
                   Text="{Binding TopicName, StringFormat='Questions for: {0}'}"
                   FontSize="22"
                   FontWeight="Bold"
                   Foreground="#2f3640"
                   Margin="0,0,0,15"/>

        <!-- ✅ Questions list -->
        <ScrollViewer Grid.Row="1">
            <ItemsControl ItemsSource="{Binding Questions}" Margin="0,10,0,10">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="#dcdde1" BorderThickness="1" CornerRadius="8" Margin="0,0,0,10" Padding="10">
                            <StackPanel>
                                <TextBlock Text="{Binding Text}" FontWeight="Bold" FontSize="16" Margin="0,0,0,8"/>

                                <StackPanel Margin="10,0,0,0">
                                    <TextBlock Text="A. " FontWeight="Bold" TextWrapping="Wrap">
                                        <Run Text="{Binding OptionA}"/>
                                    </TextBlock>
                                    <TextBlock Text="B. " FontWeight="Bold" TextWrapping="Wrap">
                                        <Run Text="{Binding OptionB}"/>
                                    </TextBlock>
                                    <TextBlock Text="C. " FontWeight="Bold" TextWrapping="Wrap">
                                        <Run Text="{Binding OptionC}"/>
                                    </TextBlock>
                                    <TextBlock Text="D. " FontWeight="Bold" TextWrapping="Wrap">
                                        <Run Text="{Binding OptionD}"/>
                                    </TextBlock>
                                </StackPanel>

                                <TextBlock Text="{Binding CorrectOption, StringFormat='Correct Answer: {0}'}"
                                           Foreground="#44bd32"
                                           FontWeight="Bold"
                                           Margin="0,8,0,0"/>

                                <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Right"
                                        Margin="0,5,0,0">
                                    <Button Content="Edit"
                                           Width="100"
                                           Height="28"
                                           Margin="0,0,10,0"
                                           Background="#44bd32"
                                           Foreground="White"
                                           BorderThickness="0"
                                           Cursor="Hand"
                                           Command="{Binding DataContext.EditQuestionCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                           CommandParameter="{Binding}"/>
                                    <Button Content="Delete"
                                           Width="100"
                                           Height="28"
                                           Background="#e84118"
                                           Foreground="White"
                                           BorderThickness="0"
                                           Cursor="Hand"
                                           Command="{Binding DataContext.DeleteQuestionCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                           CommandParameter="{Binding}"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <!-- ✅ Add Question Button -->
        <Button Content="Add Question"
                Grid.Row="2"
                Width="140"
                Height="35"
                HorizontalAlignment="Right"
                Background="#273c75"
                Foreground="White"
                BorderThickness="0"
                FontWeight="Bold"
                Margin="0,10,0,0"
                Cursor="Hand"
                Command="{Binding AddQuestionCommand}"/>
    </Grid>
</Window>
